## 操作系统

### 操作系统是什么

```zsh
# 简介
操作系统是程序员开发的、最初用于控制计算机基础硬件按标准流程配合工作，如今功能已拓展的程序软件，主流分支有操作简单、常用但正版收费的 Windows，操作复杂、性能稳定、开源免费、多为企业和专业人士使用（现也有桌面版）的 Linux，以及与 Linux 同源于 Unix 核心、性能优质但较贵的 macOS，其中企业以 Linux 和 Windows 为主，故主要讲解这两者。

# 为什么需要操作系统
为解决程序员直接编写大量复杂二进制机器码控制硬件的难题，诞生了凝结无数程序员心血、可通过封装好的指令（接口）控制硬件的操作系统；程序员可用 Java、Python 等编程语言开发 QQ、微信等应用软件，这些软件通过调用操作系统接口实现控制硬件，普通人则通过使用这些应用软件间接控制计算机工作。

# 操作系统的功能
操作系统是位于硬件与应用软件之间、本质为软件的协调控制程序，一方面能隐藏硬件调用接口，为应用程序员提供简单清晰的系统调用接口（如以 “文件” 抽象概念简化磁盘操作），使其可专注开发应用程序，无需关注硬件操作细节；另一方面可将多个应用软件对硬件资源（如打印机）的竞态请求变得有序，避免无序使用问题。
```

![image-20250721162023681](assets/image-20250721162023681.png)



### 操作系统历史

#### 第一代 手工操作阶段

```python
# 核心特点
1. 无操作系统概念，无程序设计语言（含汇编），完全依赖**穿孔卡片 / 纸带**控制硬件，甚至需通过电缆连接插件板搭建电路实现基础功能。
2. 操作流程原始：程序员手动装纸带 / 卡片、启动输入机、用控制台开关启动程序，待计算完成取走结果后，下一个用户才能上机。
3. 资源使用模式：**用户独占全机**，无资源共享；CPU 需等待手工操作，处于 “忙等” 状态，利用率极低（仅百分之几甚至更低）。

# 解决的问题
标志计算机从 “机械时代” 进入 “电子时代”，实现了用电子设备替代机械装置进行计算的核心突破，为后续技术发展奠定硬件基础

# 技术局限（未解决的问题）
人机矛盾突出：手工操作的慢速度与计算机的高速度严重不匹配，资源浪费严重；程序员需直接操控硬件，开发效率极低，普通人完全无法使用
```



#### 第二代 批处理系统阶段

```python
# 核心特点
- 出现早期系统软件（监督程序，为操作系统雏形），依托**磁带存储**技术，实现 “成批处理” 作业（程序、数据、命令批量输入、批量处理、批量输出）。
- 分两个阶段：
  1. **联机批处理系统**：主机通过监督程序自动读取磁带作业、执行并输出，但输入 / 输出时 CPU 仍需等待慢速外设，处于 “忙等” 状态。
  2. **脱机批处理系统**：引入 “卫星机” 专门处理 I/O（读取作业到输入磁带、从输出磁带传结果到外设），主机仅与高速磁带交互，实现主机与卫星机并行工作。

# 进步
- 首次出现 “系统软件控制硬件” 的思路，摆脱了完全手工操作，实现作业自动转接，减少手工操作时间，提升了计算机整体利用率。
- 用 “卫星机 + 高速磁带” 缓解了 “高速主机与慢速外设” 的速度矛盾，CPU 无需直接等待低速 I/O 设备，空闲时间减少。

# 解决的问题
解决了第一代 “人机矛盾”（手工操作与计算机速度不匹配），让作业处理从 “单人独占、手动切换” 变为 “批量自动处理”，大幅提升资源利用率。

# 技术局限（未解决的问题）
程序仍为**串行执行**（一个程序结束才执行下一个），且程序运行中若需 I/O（如读 / 写磁带），CPU 仍需等待，未完全利用 CPU 算力；无多程序并发执行能力。
```



#### 第三代 多道操作系统阶段

```python
# 核心特点
- 核心技术：**多道程序设计技术**，允许多个程序同时进入内存，交替在 CPU 运行，共享硬软件资源；当一道程序 I/O 时，CPU 切换到另一道程序，实现 “空间复用”（内存分区存多程序）与 “时间复用”（CPU 交替处理多程序）。
- 衍生系统类型：
  1. **分时系统**：将 CPU 分为短时间片，按片分配给多用户终端，用户可联机交互，感觉 “独占计算机”，支持数十至上百用户，需 “滚进滚出” 内存管理（未轮到的作业存磁盘）。
  2. **实时系统**：分 “实时控制系统”（如飞机、轧钢控制）和 “实时信息处理系统”（如订票、银行查询），能及时响应外部事件，在严格时间内处理，可靠性要求高（需双机备份）。
  3. **通用操作系统**：兼具批处理、分时、实时等多种功能（如 “前台实时 / 后台批处理”“前台分时 / 后台批处理”），典型代表为 UNIX（精干核心 + 可扩展外层，影响深远）。
- 功能完善：首次出现作业调度、处理机管理、存储器管理、设备管理、文件系统管理等完整功能，引入 “进程” 概念，实现内存空间隔离，提升数据安全性。

# 进步
- 从 “单程序串行” 升级为 “多程序并发”，CPU 利用率接近 100%，彻底解决 CPU 空闲问题；引入 “交互性”（分时系统），让用户能实时操作计算机，摆脱 “批量等待” 模式。
- 操作系统结构从 “简单监督程序” 发展为 “功能完整的系统软件”，具备资源管理、任务调度、用户交互等核心能力，奠定现代操作系统的基本框架。

# 解决的问题
- 解决了第二代 “程序串行执行、CPU 等待 I/O” 的问题，通过多道技术最大化 CPU 利用率；
- 解决了 “用户交互需求”（分时系统）和 “实时控制需求”（实时系统），覆盖个人、企业等多场景；
- 通用操作系统实现 “一机多能”，满足不同场景下的资源调度与任务处理需求。

# 技术局限（未解决的问题）
分时系统中，无 I/O 时的时间片切换会消耗 CPU 资源（需记录程序执行状态），轻微降低效率；未针对 “个人计算机”“网络” 等场景优化。
```



#### 第四代 现代计算机系统阶段

```python
# 核心特点
- 背景：大规模集成电路发展，微处理器普及，推动个人计算机、网络、分布式系统兴起，操作系统向 “多样化、场景化” 发展。
- 主要类型：
  1. **个人计算机操作系统**：单用户联机交互系统（如早期 Windows、MacOS），功能简化但用户接口友好，侧重文件管理与单机应用支持。
  2. **网络操作系统**：在单机操作系统基础上增加网络管理模块，实现多机通信、资源共享（如文件、打印机共享）、网络安全，依托计算机网络连接分散设备。
  3. **分布式操作系统**：统一管理分布式系统资源，将大任务拆分为小任务分配给多机并行处理，支持 “透明性”（用户无需知道任务在哪台机执行），强调容错性与高可靠性，多用于企业复杂任务处理。

# 进步
- 从 “单机操作系统” 拓展到 “多机协同系统”，覆盖 “个人使用”“网络共享”“分布式计算” 等全场景，用户接口更友好（图形化界面普及），适配不同硬件（PC、服务器、嵌入式设备）。
- 分布式系统实现 “大规模任务并行处理”，网络操作系统实现 “跨设备资源共享”，满足现代计算机 “互联互通、协同计算” 的需求。

# 解决的问题
- 解决了 “个人计算机单机使用” 需求（个人操作系统），让计算机普及到普通用户；
- 解决了 “多机通信与资源共享” 需求（网络操作系统），构建了计算机网络生态；
- 解决了 “企业大规模复杂任务处理” 需求（分布式操作系统），通过多机并行提升任务处理效率与系统可靠性。
```



### 主流操作系统

#### Unix分支

```python
# 核心概述
1969 年诞生于美国贝尔实验室，是现代多数操作系统的 “鼻祖”，奠定了多用户、多任务、以网络为核心的设计思想，对后续操作系统发展影响深远。

# 特点
稳定性强、安全性高，早期主要用于大型机和服务器，具备完善的网络功能与可移植性，是类 Unix 系统（如 Linux、macOS）的设计基础。

# 主要衍生 / 关联系统
直接或间接衍生出 Linux、macOS、Solaris 等主流操作系统，是操作系统发展史上的核心奠基者。
```



#### Windows分支

```python
# 核心概述
由微软公司研发，以图形用户界面（GUI）为核心，是全球应用最广泛的操作系统之一，覆盖个人计算机、服务器、移动设备等多场景。

# 核心分支与子系列
# 普通个人版
日常个人使用，如 Windows XP、Windows 7、Windows 10、Windows 11 等（注：2000 年后的个人版均基于 Windows NT 内核，“Windows NT” 为技术核心，现通常直接简称 “Windows”）；
# 服务器版
供企业 / 服务器使用，如 Windows Server 2003、2008、2012、2019、2022 等，侧重稳定性、安全性与多用户管理
# 移动版
曾用于智能手机等移动设备，如 Windows Phone，现已停止主流更新；
# 嵌入式版
用于嵌入式设备（如工业控制、智能设备），如 Windows CE。

# 特点
操作直观、兼容性强，支持海量个人应用软件，但正版收费，服务器版侧重企业级资源管理与服务部署。
```



#### Linux分支

```python
# 核心概述
全称 GNU/Linux，是 1991 年由林纳斯・托瓦兹发布内核的类 Unix 操作系统，开源免费、自由传播，继承 Unix 以网络为核心的设计，支持多用户、多任务、多线程与多 CPU，性能稳定。

# 主要发行版分支
# Debian 系列
基于社区开发，稳定性高，代表包括 Debian（基础发行版）、Ubuntu（个人 / 桌面端主流，易用性强）、Kali Linux（专注渗透测试与安全审计）

# Red Hat 系列
含商业与社区版本，企业级应用广泛，代表包括 Red Hat Enterprise Linux（RHEL，商业付费，企业首选）、CentOS（RHEL 社区克隆版，曾为企业免费首选，现逐步过渡至 CentOS Stream）、Fedora（社区前沿版本，更新快）

# Slackware 系列
历史悠久，注重稳定性与自定义，代表包括 Slackware（基础发行版）、SUSE（商业版，企业级应用）、OpenSUSE（SUSE 社区版）；

# 国产 Linux 系列
适配国内软硬件生态，代表包括深度 Deepin（个人桌面端易用性强）、银河麒麟（侧重党政军与企业安全）、统信 UOS（面向政企与个人，兼容性优化好）；

# 移动端分支
Android 系统基于 Linux 内核开发，是全球主流的移动设备操作系统。

# 特点
开源免费、可高度定制，稳定性与性能优异，企业级服务器、嵌入式设备、移动端（Android）应用广泛，社区支持活跃。
```
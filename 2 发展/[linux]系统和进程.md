## 系统

```zsh
# 查看cpu
lscpu

# 显示内存使用情况
free -h

#total=used +free +buffers+ cache
#total：所有可用内存
#used：已经使用的内存
#free：没有使用内存
#shared：仅为兼容设置，可以忽略
#buff：作为buffercache的内存，是块设备的读写缓冲区
#cache：作为pagecache的内存，文件系统的cache
#available－无需交换即可用于启动新应用程序的内存量估计值。

# 显示磁盘使用情况 (df = disk free)
df -h  # -h 人类可读格式

# 系统优化
# 显示系统信息 (uname = unix name)
uname -a  # -a 显示所有信息

# 显示目录/文件占用空间 (du = disk usage)
du -sh ~/Downloads/  # -s 总计，-h 人类可读

# 显示系统运行时间和负载
uptime
```





## 进程

```zsh
# 显示进程信息 (ps = process status)
ps -ef

# pid：全称processid，是进程编号，每次启动某个程序，它的编号可能都不一样，这个是程序启动之后系统随机分配的。
# uid：全称userid，是进程所属用户，也就是哪个用户启动的，我们可以切换个用户执行一下sleep60，就可以看到效果
# CMD中看到括起来的，表示这些都是系统级别的进程，比如一些硬件驱动程序之类的，这些都不要动。不带口的都是用户级别的。
# ppid：全称parentprocessid，父进程，记录的是某个进程是由哪个进程创建出来的。可以通过pstree工具来查看从属关系。
# C：这个不用管。
# STIME：全称starttime，进程的启动时间。
# TTY：用来显示哪些是本地启动的，哪些是远程终端连接上来启动的。通过w指令可以看到哪些终端登录着主机。只要登录成功一个终端，那就多个终端。
# TIME：这个没啥用
# CMD：这个进程执行了什么指令。

# 查看进程的从属关系
pstree

# 查找进程 (pgrep = process grep)
pgrep -l sshd  # 查找sshd进程

# 结束进程 (kill)
kill 1234 # 结束一个进程
pkill top # 批量结束所有top进程
# kill -9，这个强大和危险的命令迫使进程在运行时突然终止，进程在结束后不能自我清理。危害是导致系统资源无法正常释放，一般不推荐使用，除非其他办法都无效。
kill -9 1234  # 强制结束PID为1234的进程

# 动态查看进程 (top)
top
htop  # 更友好的替代品

#08：34：27up20min：08：34：27表示top指令的执行时间，每3秒自动刷新一次，up20min：开机了20分钟，如果看到3：20，表示开机了3小时20分钟，看到10days表示10天了，1inux很稳定耐用，开机好多年都稳定运行着，不会卡顿。
#1user：表示当前只有一个用户在使用
#1oadaverage：0.00，0.01，0.05：平均负荷，指的是cPU的负载高不高，cPu负载高，那么平均负荷就比较大，如果这几个值很大的时候，服务器会变得很卡。如果发现服务器卡了，就是异常情况，就可以看看这个数据。这三个值表示：1分钟、5分钟、15分钟的负载情况，1oadaverage数据是每隔5秒钟检查一次活跃的进程数，然后按特定算法计算出的数值。如果这个数除以逻辑cPU的数量，结果高于5的时候就表明系统在超负荷运转了。
#Tasks：89tota1，2running，87sleeping，0stopped，0zombie：表示进程数量，总共89个，2个正在运行，87个在睡眠状态，当我们的cPU是1核的时候，是在所有进程之间来回切换执行，所以只有一个或者切换速度很快的时候显示2个。0stopped表示停止的进程，但是这里一般都是0，以为进程结束之后会自动从内存中释放。0zombie表示僵尸进程数量，僵尸进程是杀不死的，就是由于各种原因，系统无法自动释放的进程，僵户进程也消耗系统资源，一般ki11掉它的父进程可以杀掉僵尸进程，或者ki11-9来杀掉。但是ki11-9要慎用！！！它也容易产生僵户进程，ki11会将进程运行中的信息保存下来，进程不会出问题，ki11-9不会保存，强制结束进程的运行，容易出现僵尸进程。
#按数字1，可以查看cpu数量
#%Cpu(s)：0.0us，0.0sy，0.0ni，100.0id，0.0wa，0.0hi，0.0si，0.0st，关于cpu我们其他参数不用看，就看这个100.0id，id是idle的简写，表示100%空闲，因为我们现在cPU使用率很低，所以显示了100%空闲。我们只关注这个参数即可，看一下CPU忙不忙就行。
#KiB Mem: 2027872 total， 1779000 free， 135668 used,113204buff/cache，是内存（英文：memroy)的描述信息，total表示总内存量，free表示可用剩余量，userd表示已经使用的量，buff/cache表示用作缓存，是和磁盘进行读写时的缓存区域，这个参数不用管。
#KiB Swap:0total,o free,0used.1755332avai1Mem：Swap表示虚拟内存，这是硬盘分配给内存的一部分空间，为了当内存不足时，临时将硬盘当作内存使用。这个数值是可以自行调整的。一般自动就分配好了，所以我们不用管，实在是内存不够用的时候再加大这个虚拟内存。我现在看的是虚拟机上的虚拟内存，虚拟机不设置虚拟内存，所以显示为0。
```



